(load! "rad/prelude.rad")

;; The Repl

(def read-line-or-exit! (fn []
  (def line (get-line!))
  (if (eq? line nil)
      (exit!)
      (read line))))

(def repl
  {:name "repl"
   ;; Parse errors are thrown here
   :getter read-line-or-exit!})

(subscribe-to! repl print!)
