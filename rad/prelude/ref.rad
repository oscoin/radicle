'prelude/ref

"Functions for dealing with reference cells."

['modify-ref]

;; ref functions ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

;; modify-ref
(def modify-ref
  "Modify 'ref' by applying the provided function. Returns the new value."
  (fn [r f]
    (write-ref r (f (read-ref r)))))
